import{_ as T,D as k,a as G,b as I,c as E}from"./RngStats.vue.54cb13f4.js";import{f as D,r as W,g as h,h as H,o as q,i as M,u as g,j as U,w as J,a as i,t as S,b as v,c as K,k as Q,d as X}from"./entry.c71ff45e.js";import{u as Y}from"./vue.f36acd1f.01cbb5fe.js";import"./nuxt-link.0a398e6c.js";const Z=D({__name:"WagerRequirementWinRateGraph",setup(N,{expose:p}){const t=W([]),_=h();p({add:(s,r)=>{t.push({x:r,y:s}),m()},reset:()=>{t.length=0,m()}});const f=h({datasets:[]}),u={type:"scatter",responsive:!0,parsing:!1,plugins:{legend:{display:!1}},scales:{y:{min:()=>t[t.length-1]?t[t.length-1].y-10:50,max:()=>t[t.length-1]?t[t.length-1].y+10:50},x:{type:"linear",position:"bottom",min:()=>t[t.length-1]?t[t.length-1].x-10:50,max:()=>t[t.length-1]?t[t.length-1].x+10:50}}},m=()=>{f.value={datasets:[{radius:5,showLine:!1,data:t.slice(-20).map(s=>s),backgroundColor:"rgb(255, 99, 132)"}]}};return m(),(s,r)=>{const R=H("Line");return q(),M(R,{ref_key:"graph",ref:_,options:u,data:g(f)},null,8,["data"])}}}),ee={class:"flex gap-2 flex-wrap"},te={class:"w-32 h-32 border border-transparent border-t-slate-50 text-center shadow-lg bg-slate-100 rounded-lg"},se=i("h3",{class:"text-xl mt-6"},"Simulations",-1),ne={class:"mt-4"},oe={class:"w-32 h-32 border border-transparent border-t-slate-50 text-center shadow-lg bg-slate-100 rounded-lg"},ae=i("h3",{class:"text-xl mt-6"},"Wager Req.",-1),ie={class:"mt-4"},le={class:"w-32 h-32 border border-transparent border-t-slate-50 text-center shadow-lg bg-slate-100 rounded-lg"},ce=i("h3",{class:"text-xl mt-6"},"Win rate",-1),re={class:"mt-4"},de=D({__name:"FindDesiredWagerRequirement",props:["config"],emits:["random"],setup(N,{emit:p}){const t=N;function _(e,o=.05,l=200){let d=0;for(let c=1;c<e.length;c++)if(Math.abs(e[c]-e[c-1])<o?d++:d=0,d==l)return c-l+1;return-1}function b(e){const o=_(e);return o===-1?null:e.slice(o).reduce((d,c)=>d+c,0)/(e.length-o)}const n=h(52),f=h(),u=h({}),m=e=>{var l;u.value[n.value]=u.value[n.value]||[],u.value[n.value].push(e);const o=b(u.value[n.value]);o!==null&&((l=f.value)==null||l.add(o,n.value),o>t.config.mp_target_win_rate.value?n.value++:n.value--,s.total=0,s.wins=0,s.loses=0,u.value={})},s=W({total:0,wins:0,loses:0});U(t.config,()=>{var e;s.total=0,s.wins=0,s.loses=0,u.value={},n.value=52,(e=f.value)==null||e.reset()});let r={};const R=e=>{e in r?r[e]++:r[e]=1},V=()=>{Object.keys(r).length!==0&&(p("random",r),r={})};setInterval(()=>V(),1e3);const z=()=>{const e=Math.floor(Math.random()*37);return R(e),e},F=()=>Number(new k(Object.values(t.config.bets).reduce((e,o)=>e+o,0))),B=e=>{const o=[2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35],l=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36],d=[2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],c=[1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35],w=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],x=[19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],y=[3,6,9,12,15,18,21,24,27,30,33,36],P=[2,5,8,11,14,17,20,23,26,29,32,35],j=[1,4,7,10,13,16,19,22,25,28,31,34],A=[1,2,3,4,5,6,7,8,9,10,11,12],L=[13,14,15,16,17,18,19,20,21,22,23,24],O=[25,26,27,28,29,30,31,32,33,34,35,36];let a=0;return o.includes(e)&&(a+=t.config.bets.black*2),l.includes(e)&&(a+=t.config.bets.red*2),d.includes(e)&&(a+=t.config.bets.even*2),c.includes(e)&&(a+=t.config.bets.odd*2),w.includes(e)&&(a+=t.config.bets["1-18"]*2),x.includes(e)&&(a+=t.config.bets["19-36"]*2),y.includes(e)&&(a+=t.config.bets["h-1"]*3),P.includes(e)&&(a+=t.config.bets["h-2"]*3),j.includes(e)&&(a+=t.config.bets["h-3"]*3),A.includes(e)&&(a+=t.config.bets["v-1"]*3),L.includes(e)&&(a+=t.config.bets["v-2"]*3),O.includes(e)&&(a+=t.config.bets["v-3"]*3),a+=t.config.bets[e]*36,Number(new k(a).toFixed(2))},C=()=>{if(F()===0)return;let e=new k(t.config.mp_deposit.value);const o=e.times(n.value).toNumber();let l=0;for(e=e.plus(t.config.mp_bonus.value);;){const d=z(),c=F(),w=Math.min(c,e.toNumber())/c,x=Number(new k(c*w).toFixed(2));e=e.minus(x),l+=x;const y=B(d)*w;if(e=e.plus(y),l>=o)if(e.toNumber()>=parseInt(t.config.mp_deposit.value)){s.total++,s.wins++,m(Number((s.wins/s.total*100).toFixed(2)));break}else{s.total++,s.loses++,m(Number((s.wins/s.total*100).toFixed(2)));break}if(e.toNumber()<=0){s.total++,s.loses++,m(Number((s.wins/s.total*100).toFixed(2)));break}}},$=()=>{let e=10;for(;e--;)C();setTimeout(()=>{$()},10)};return $(),(e,o)=>{const l=Z,d=T;return q(),M(d,{caption:"Results"},{default:J(()=>[i("div",ee,[i("div",te,[se,i("div",ne,S(g(s).total),1)]),i("div",oe,[ae,i("div",ie,S(g(n)),1)]),i("div",le,[ce,i("div",re,S((g(s).wins/g(s).total*100).toFixed(2))+"% ",1)]),v(l,{ref_key:"graph",ref:f},null,512)])]),_:1})}}}),ue={class:"p-4"},me=i("h1",{class:"text-3xl mb-4"},[X(" Matching Program vs "),i("select",null,[i("option",null,"Roulette")])],-1),_e={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},be={__name:"optimize-wager-requirement",setup(N){Y({bodyAttrs:{class:"bg-slate-200"}});const p=h(),t=b=>{var n;(n=p.value)==null||n.add(b)},_=W({mp_deposit:{value:20,mode:"1",name:"Deposit",order:0},mp_bonus:{value:20,mode:"1",name:"Bonus",order:1},mp_target_win_rate:{value:45,mode:"1",name:"Target Win Rate",order:2},bets:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,"h-1":0,"h-2":0,"h-3":0,"v-1":0,"v-2":0,"v-3":0,"1-18":0,even:0,red:20,black:20,odd:0,"19-36":0}});return(b,n)=>{const f=I,u=G,m=de,s=E;return q(),K("div",ue,[me,v(f),i("div",_e,[v(u,{caption:"Matching Program",modelValue:g(_),"onUpdate:modelValue":n[0]||(n[0]=r=>Q(_)?_.value=r:null)},null,8,["modelValue"]),v(m,{config:g(_),onRandom:t},null,8,["config"]),v(s,{ref_key:"rngStats",ref:p},null,512)])])}}};export{be as default};
